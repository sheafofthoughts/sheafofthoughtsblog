/* Base style for theorem-like blocks and proofs */
div[id^="thm-"],
div[id^="lem-"],
div[id^="cor-"],
div[id^="prp-"],
div[id^="cnj-"],
div[id^="exm-"],
div[id^="rem-"],
div[id^="def-"],
div.definition,
div.proof,
div.claim {
  border-left: 4px solid transparent;
  padding: 0.75rem 1rem;
  margin: 1.25rem 0;
  border-radius: 0.45rem;
  background-color: #f9fafb;
}

div[id^="thm-"],
div[id^="lem-"],
div[id^="cor-"],
div[id^="prp-"],
div[id^="cnj-"],
div[id^="exm-"],
div[id^="rem-"],
div[id^="def-"],
div.definition,
div.proof,
div.claim,
div[id^="qst-"] {
  overflow-x: auto;
}


/* Theorem: pastel purple */
div[id^="thm-"] {
  border-color: #8b5cf6;      /* purple-ish border */
  background-color: #f5f3ff;  /* very light lavender */
}

/* Lemma: slightly different, indigo */
div[id^="lem-"] {
  border-color: #6366f1;      /* indigo border */
  background-color: #eef2ff;  /* very light indigo */
}

/* Corollary: fuchsia */
div[id^="cor-"] {
  border-color: #d946ef;
  background-color: #faf5ff;
}

/* Proof: light pink */
div.proof {
  border-color: #ec4899;
  background-color: #fdf2f8;
}

/* Example: green */
div[id^="exm-"] {
  border-color: #22c55e;
  background-color: #f0fdf4;
}

/* Remark: light blue */
div[id^="rem-"] {
  border-color: #0ea5e9;
  background-color: #eff6ff;
}

/* Conjecture: soft amber (less bright) */
div[id^="cnj-"] {
  border-color: #f59e0b;
  background-color: #fffbeb;
}

/* Claim: neutral gray */
div.claim {
  border-color: #6b7280;
  background-color: #f9fafb;
}

/* Question: soft orange */
div[id^="qst-"] {
  border-left: 4px solid #f97316;   /* orange-500 border */
  background-color: #fff7ed;        /* very light orange background */
  padding: 0.75rem 1rem;
  margin: 1.25rem 0;
  border-radius: 0.45rem;
}

/* Definition: soft teal */
div[id^="def-"],
div.definition {
  border-color: #14b8a6;      /* teal-500 */
  background-color: #ecfeff;  /* very light teal */
}


/* ==== Global protection against wide display math ==== */

/* KaTeX display math (Quarto default) */
.katex-display {
  overflow-x: auto;
  overflow-y: hidden;
  max-width: 100%;
}

/* MathJax v3 display math (if you ever switch) */
mjx-container[display="true"] {
  overflow-x: auto;
  overflow-y: hidden;
  max-width: 100%;
}

/* Legacy wrapper that Quarto sometimes uses */
.math.display {
  overflow-x: auto;
  overflow-y: hidden;
  max-width: 100%;
}




/* ---------- Mobile tweaks ---------- */
@media (max-width: 768px) {

  /* Make the main content more like a book column */
  main.content,
  .page-layout-article main.content {
    max-width: 100%;
    padding-left: 0.2rem;
    padding-right: 0.2rem;
  }


  /* Slightly larger, more readable base font on mobile */
  body {
    font-size: 17px;
    line-height: 1.55;
  }

  /* Theorem/lemma/corollary/… blocks: reduce “massiveness” on mobile */
  div[id^="thm-"],
  div[id^="lem-"],
  div[id^="cor-"],
  div[id^="prp-"],
  div[id^="cnj-"],
  div[id^="exm-"],
  div[id^="rem-"],
  div.proof,
  div.claim,
  div[id^="qst-"] {
    margin-left: 0;
    margin-right: 0;
    padding: 0.65rem 0.85rem;
    border-left-width: 3px;
    border-radius: 0.35rem;
  }

  /* Avoid long equations/images overflowing horizontally */
  img,
  svg,
  .quarto-figure img,
  .quarto-figure svg,
  .quarto-figure iframe {
    max-width: 100%;
    height: auto;
  }

  /* Heading spacing a bit tighter to reduce empty space */
  h1, h2, h3 {
    margin-top: 1.6rem;
    margin-bottom: 0.8rem;
  }

  /* Navbar slightly slimmer on mobile so it wastes less space */
  .navbar {
    padding-top: 0.35rem;
    padding-bottom: 0.35rem;
  }
}

/* Keep display equations inside the available width */
mjx-container[jax="CHTML"][display="true"] {
  max-width: 100%;
  overflow-x: auto;
  overflow-y: hidden;
}

/* If you ever switch to KaTeX, this covers that case too */
.katex-display {
  max-width: 100%;
  overflow-x: auto;
  overflow-y: hidden;
}

/* Make quiver.app iframes responsive */
iframe.quiver-embed {
  display: block;
  width: 100% !important;
  max-width: 100%;
}


